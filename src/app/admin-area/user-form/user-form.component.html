<div class="container d-flex flex-column align-items-center">
  @if (id === null) {
  <ng-container *ngTemplateOutlet="Form; context: { $implicit: 'AGGIUNGI UTENTE', button: 'Aggiungi' }">
  </ng-container>
  } @else {
  <ng-container *ngTemplateOutlet="Form; context: { $implicit: 'MODIFICA UTENTE', button: 'Modifica' }">
  </ng-container>
  }
</div>

<ng-template #Form let-value let-button="button">

  @let controls = userFormGroup.controls;
  <div class="form-control mt-3 shadow-lg">
    <div class="col-12">
      <h1 class="text-center">{{ value }}</h1>
    </div>
    <form [formGroup]="userFormGroup" class="p-4">
      <app-text id="name" label="Nome" type="text" formControlName="name" [control]="controls['name']" />
      <app-text id="surname" label="Cognome" type="text" formControlName="surname" [control]="controls['surname']"/>
      <app-text id="email" label="Email" type="email" formControlName="email" [control]="controls['email']"/>
      <app-text id="password" label="Password" type="password" formControlName="password" [control]="controls['password']"/>
      <app-text id="department" label="Reparto" type="text" formControlName="department" [control]="controls['department']"/>
      
      <div class="d-flex justify-content-between mt-5">
        <button [routerLink]="['/dashboard/team-management']" class="btn btn-primary shadow-lg">Indietro</button>
        <button type="submit" class="btn btn-primary" (click)="id ? EditUser() : AddUser()"> {{ button }} </button>
      </div>
   
    </form>
  </div>
</ng-template>